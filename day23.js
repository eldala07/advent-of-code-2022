const smallestExampleInput = [
    [".",".",".",".","."],
    [".",".","#","#","."],
    [".",".","#",".","."],
    [".",".",".",".","."],
    [".",".","#","#","."],
    [".",".",".",".","."],
    ];
    
    const exampleInput = [
        [".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", "#", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", "#", "#", "#", ".", "#", ".", ".", ".", "."],
        [".", ".", ".", "#", ".", ".", ".", "#", ".", "#", ".", ".", ".", "."],
        [".", ".", ".", ".", "#", ".", ".", ".", "#", "#", ".", ".", ".", "."],
        [".", ".", ".", "#", ".", "#", "#", "#", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", "#", "#", ".", "#", ".", "#", "#", ".", ".", ".", "."],
        [".", ".", ".", ".", "#", ".", ".", "#", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", ".", "."],
    ];
    const realInput = [
        [".",".",".","#",".","#",".",".",".",".","#","#",".",".",".",".","#",".","#",".",".","#",".",".",".","#",".","#",".",".",".","#",".","#",".","#","#","#",".",".","#",".","#","#","#",".",".",".","#",".","#","#","#","#","#",".","#",".","#","#","#",".",".",".","#","#","#","#","#",".","#"],
        [".","#","#","#",".","#","#",".","#",".","#","#",".","#","#","#","#",".",".","#","#","#",".",".","#","#","#","#",".","#","#",".",".",".",".","#","#",".","#",".","#",".",".",".",".","#",".",".","#",".","#",".",".",".","#","#",".",".",".","#",".",".",".",".","#","#","#","#","#","#","#"],
        ["#",".",".",".",".","#",".","#","#","#","#","#","#",".",".","#",".","#",".",".",".",".",".","#","#",".",".",".","#",".","#","#","#","#","#",".","#","#","#",".",".",".",".",".",".","#","#","#","#","#","#","#",".",".",".","#","#","#",".",".","#",".",".",".","#","#","#",".",".",".","#"],
        [".",".","#",".","#",".","#",".",".","#","#","#","#","#",".","#",".","#",".","#","#","#","#",".","#",".","#",".","#",".",".",".","#","#","#","#","#",".",".",".","#",".",".",".",".","#",".","#","#",".",".","#",".","#",".",".","#",".","#","#",".","#",".",".","#",".",".","#",".",".","#"],
        [".",".",".",".",".",".","#",".",".",".",".",".","#",".",".","#",".",".","#","#","#",".","#",".","#",".","#","#","#",".","#",".","#",".",".",".","#","#","#",".","#","#","#","#","#","#",".",".",".",".",".","#",".",".","#",".",".",".","#","#",".",".",".",".",".","#","#",".","#","#","."],
        [".","#","#","#","#",".",".","#",".",".","#",".","#",".",".","#",".",".",".",".",".","#","#","#",".","#",".","#","#",".",".",".",".",".",".",".",".",".",".",".",".","#",".","#",".","#","#",".",".","#","#",".","#",".",".",".",".",".",".",".",".",".",".",".","#",".",".","#","#",".","#"],
        ["#",".",".",".","#","#",".",".",".",".",".",".","#","#",".",".",".",".",".","#","#",".",".",".",".",".","#",".","#","#","#","#",".","#","#",".","#",".","#","#",".",".","#","#",".",".","#",".","#",".","#","#","#",".","#",".","#",".","#",".","#",".",".","#","#",".","#","#",".","#","#"],
        [".","#","#","#",".",".",".","#",".","#",".","#",".",".",".",".",".",".","#","#",".","#",".",".","#",".","#",".","#","#","#","#",".",".","#","#","#","#","#",".",".","#","#",".",".","#",".","#",".","#","#","#","#","#","#",".",".","#",".",".",".",".",".",".",".","#",".",".",".","#","#"],
        [".",".",".","#","#",".",".",".","#","#","#","#",".","#",".","#",".","#","#","#",".","#","#",".","#",".","#","#",".","#","#",".",".","#","#",".","#",".","#","#","#",".",".","#",".","#",".","#","#",".",".",".","#","#","#",".","#",".",".","#","#",".",".","#",".","#",".",".",".",".","."],
        [".",".",".","#","#",".",".","#","#","#",".",".",".",".",".",".",".",".","#","#",".",".","#",".","#","#","#","#","#",".",".","#",".",".",".","#","#",".",".",".","#","#",".",".","#",".",".","#","#",".",".","#",".",".","#",".","#","#","#","#","#","#","#","#",".","#",".","#","#","#","#"],
        [".","#","#",".",".","#",".","#","#","#","#",".",".","#",".",".","#","#",".","#","#","#",".","#","#",".","#",".",".",".",".","#","#",".","#","#","#",".","#","#","#",".","#",".",".",".","#",".","#","#",".",".","#","#","#",".",".",".","#","#","#",".","#","#",".",".","#",".",".",".","#"],
        [".","#","#","#",".","#",".",".",".","#","#",".","#","#",".","#",".","#",".","#","#","#","#",".",".",".","#","#",".","#","#","#","#",".","#","#","#","#","#",".","#",".",".","#","#","#","#","#","#",".",".","#","#",".",".","#","#","#","#","#",".","#","#","#","#","#","#",".",".","#","#"],
        ["#","#",".","#",".",".",".","#",".",".",".","#","#",".",".",".","#","#","#",".","#","#","#","#","#",".","#","#","#",".","#",".","#","#","#","#",".","#",".","#",".",".",".","#","#",".",".","#",".",".","#","#",".","#","#","#","#",".",".","#",".","#","#",".",".",".","#","#","#",".","."],
        [".","#","#",".",".","#","#",".",".","#","#",".",".",".","#","#",".",".",".","#",".",".","#","#","#",".","#","#","#","#",".",".","#","#","#","#","#",".","#","#",".",".","#","#","#",".",".","#",".","#",".","#",".","#","#","#",".",".","#",".","#","#",".",".",".",".",".","#",".","#","#"],
        ["#","#",".",".",".",".","#",".",".",".","#",".","#","#",".","#",".",".",".","#","#","#","#",".","#",".",".","#","#","#",".","#","#",".",".","#","#","#","#","#",".","#",".","#",".","#",".","#","#",".","#",".",".","#",".","#",".","#","#","#",".",".","#",".","#",".",".",".",".","#","."],
        [".","#","#","#","#",".",".","#",".",".","#","#",".","#","#",".",".",".","#",".",".",".",".","#","#",".","#","#",".","#","#","#","#","#","#",".",".","#","#",".",".","#","#","#",".",".","#",".",".",".",".","#","#",".","#","#","#","#",".",".","#",".","#",".","#","#","#",".",".",".","."],
        [".","#",".","#","#","#",".",".","#",".",".","#","#","#","#","#",".","#",".","#",".",".",".",".",".",".","#","#","#",".",".","#","#",".","#",".",".",".",".",".","#","#","#",".","#","#","#",".",".","#",".","#",".",".",".","#","#","#","#","#","#","#","#","#",".",".",".",".","#","#","#"],
        ["#","#",".","#",".","#",".","#","#",".",".",".","#",".","#",".","#",".","#",".",".",".","#",".","#",".",".",".","#","#",".","#","#",".","#","#",".","#","#","#",".",".",".",".",".","#",".","#",".","#","#",".",".",".",".",".","#",".",".",".","#",".","#",".","#","#","#",".",".","#","#"],
        ["#","#",".",".",".",".","#","#",".",".",".",".",".",".",".",".",".","#","#","#",".","#","#",".","#","#",".","#",".","#",".",".","#",".",".",".","#",".","#",".",".",".","#",".","#","#","#","#",".",".",".","#","#",".",".","#",".","#",".","#","#",".",".",".",".",".","#",".","#","#","."],
        [".",".","#",".",".",".",".","#","#",".",".",".",".",".","#","#","#",".",".",".","#",".",".","#","#",".","#",".",".",".",".",".",".",".",".",".",".","#",".","#","#","#","#","#","#",".","#",".","#","#","#","#",".","#","#","#","#","#",".","#",".","#",".",".","#",".","#",".",".",".","#"],
        [".","#",".",".","#",".",".","#",".",".",".","#",".","#","#","#",".","#",".","#","#",".",".","#","#",".",".",".","#","#","#","#",".","#","#","#",".","#",".",".","#","#",".",".",".","#","#","#",".",".","#","#",".",".",".","#","#",".",".","#",".",".","#",".",".","#","#",".","#",".","#"],
        ["#","#",".",".",".","#","#","#",".","#","#","#","#",".","#","#",".","#",".",".","#","#",".","#","#",".",".","#",".",".","#","#","#",".","#",".","#","#","#",".",".","#","#",".","#","#","#",".","#",".",".",".",".","#",".","#","#",".","#","#","#","#",".","#","#","#",".",".",".",".","."],
        ["#",".","#",".",".","#",".",".",".",".",".",".","#","#","#","#","#",".","#","#","#","#","#","#",".",".",".","#",".","#","#","#",".",".",".",".",".",".","#","#",".","#","#",".","#",".",".",".","#",".","#",".",".","#",".","#","#",".","#","#",".",".","#","#","#",".",".","#","#",".","#"],
        [".",".","#","#",".","#",".","#","#","#","#",".","#","#",".",".",".",".",".","#","#","#",".","#",".","#",".","#","#",".","#","#",".","#","#","#","#",".","#",".","#",".",".",".","#","#",".",".",".","#",".",".","#","#",".",".","#","#","#",".",".","#",".","#","#",".","#","#","#","#","#"],
        [".",".","#",".",".",".","#",".",".","#","#",".","#",".",".","#",".","#","#","#",".",".",".","#",".",".","#",".","#","#","#",".",".",".",".","#","#","#",".",".","#",".",".",".",".","#",".",".","#",".",".","#","#","#","#",".","#","#",".",".","#","#","#","#",".","#","#","#",".",".","#"],
        ["#",".",".","#","#","#","#",".",".",".","#","#","#","#","#",".",".","#","#",".","#","#",".",".","#","#","#","#",".","#",".",".","#",".","#",".","#",".","#","#",".",".",".","#","#","#",".",".",".",".",".","#","#","#",".",".","#",".","#","#","#",".","#",".","#",".","#",".","#","#","."],
        ["#",".","#","#","#","#","#",".","#","#","#",".",".",".",".","#",".","#","#","#","#","#","#",".","#","#","#","#","#",".",".","#",".","#",".",".","#",".",".",".","#",".",".","#","#",".","#","#",".",".","#","#",".","#",".","#",".","#",".","#","#","#","#","#","#",".",".","#","#","#","#"],
        ["#","#","#",".","#",".","#",".","#","#","#",".","#",".","#",".","#",".","#","#",".","#",".",".",".","#","#",".",".",".",".",".","#","#","#",".",".",".",".",".",".","#",".",".",".",".",".",".",".",".","#","#","#","#",".","#",".","#","#","#","#","#",".","#","#","#","#",".",".",".","#"],
        [".",".",".","#","#",".","#",".",".","#","#","#",".",".",".","#","#","#","#",".","#","#",".",".",".","#","#","#","#",".","#","#",".",".","#","#",".","#",".","#","#","#","#","#",".",".",".",".",".","#","#",".","#",".",".","#","#",".",".",".","#",".",".",".","#","#","#",".","#",".","#"],
        ["#","#",".",".",".",".",".","#","#","#","#","#",".",".",".","#","#",".",".","#",".","#","#",".","#","#",".",".",".",".","#","#",".",".",".",".","#","#","#","#","#","#",".",".","#","#","#",".",".",".","#",".","#","#",".","#",".","#",".","#","#",".","#",".",".",".","#",".","#","#","#"],
        [".","#",".","#","#","#","#","#",".",".",".",".",".",".","#","#","#",".","#",".","#","#",".",".",".",".","#","#",".",".",".","#",".",".","#",".",".","#",".","#","#","#",".",".","#","#","#","#","#","#","#","#",".",".","#",".","#",".","#",".",".","#",".",".","#",".","#",".",".",".","#"],
        [".","#","#",".",".","#","#","#","#","#","#",".",".",".",".",".",".","#","#","#","#","#",".","#","#",".","#",".","#",".",".",".",".","#",".","#","#","#",".",".","#",".","#","#","#",".","#","#","#","#","#",".","#",".","#","#",".","#","#",".","#",".","#","#","#","#",".",".","#",".","."],
        ["#",".","#",".","#","#",".","#",".",".",".",".",".",".",".","#","#",".",".",".",".","#","#","#","#",".",".",".",".","#","#",".",".",".",".",".",".",".",".","#","#","#","#","#","#","#",".",".","#","#",".",".","#","#","#","#",".",".",".","#","#",".","#","#","#","#","#",".",".","#","."],
        [".",".","#","#","#",".","#","#","#",".","#",".",".","#","#",".",".","#","#",".",".",".","#","#","#",".",".","#",".","#",".","#",".",".","#","#",".",".","#",".","#",".","#",".","#",".",".","#","#",".",".",".",".","#","#",".",".","#",".",".","#",".","#",".","#",".",".","#",".",".","."],
        ["#",".",".",".","#",".","#","#","#","#","#","#","#",".",".",".","#","#",".","#","#","#",".","#",".",".","#","#","#",".",".",".","#",".",".","#","#","#",".","#",".","#","#",".",".","#","#","#","#","#",".",".",".",".",".","#",".",".",".","#","#",".","#","#","#",".","#",".","#","#","#"],
        [".","#","#","#",".",".",".","#",".","#","#","#",".","#","#",".",".","#","#","#",".",".",".","#",".","#",".","#",".","#",".","#","#",".","#","#",".",".","#",".",".","#",".","#",".",".","#",".","#","#",".",".",".",".",".",".",".",".",".",".","#","#","#",".","#","#","#","#",".","#","#"],
        [".","#","#",".","#",".",".",".",".",".","#","#",".",".","#","#",".","#","#","#",".","#","#",".",".",".",".",".",".","#",".","#","#",".","#","#","#","#","#","#","#","#",".",".",".",".",".","#","#","#","#",".","#",".",".",".",".",".","#","#",".",".","#",".","#",".","#","#",".",".","#"],
        ["#","#","#",".",".",".",".","#","#",".","#",".",".","#","#","#","#","#",".",".","#",".","#",".",".",".","#",".","#",".",".","#",".",".",".",".",".",".",".",".","#",".",".","#",".",".",".",".","#",".","#",".",".","#",".","#",".",".","#",".",".",".","#","#","#",".","#","#","#","#","."],
        [".","#",".","#","#","#","#",".","#","#",".","#",".",".",".","#",".",".","#","#","#",".",".","#","#",".","#","#","#",".","#","#","#",".","#","#","#",".",".",".",".",".","#","#","#",".",".",".",".",".",".","#","#","#","#",".","#","#","#",".",".",".",".",".","#","#",".",".",".","#","#"],
        ["#","#",".","#",".",".","#",".","#",".",".","#","#",".","#",".","#",".",".","#","#","#",".",".","#",".",".","#",".","#","#",".","#","#","#","#",".",".","#","#",".","#",".",".",".","#","#","#",".","#",".",".",".","#",".","#","#","#","#","#",".","#",".","#",".","#",".","#",".","#","."],
        [".",".",".",".","#",".","#",".",".",".",".","#","#","#",".","#",".",".","#",".",".",".","#","#",".","#",".","#",".","#","#",".","#",".","#",".",".","#",".",".",".","#",".",".",".","#","#",".",".",".",".","#","#",".","#","#",".","#",".",".",".","#",".","#","#","#","#","#",".","#","."],
        ["#",".","#",".",".",".","#","#",".","#","#","#",".",".",".",".",".","#",".","#",".","#","#","#","#","#","#","#",".",".",".",".","#","#","#","#","#",".","#","#",".","#",".","#","#",".",".",".","#","#",".","#","#","#",".","#","#","#","#","#",".","#","#","#",".",".","#",".",".","#","#"],
        [".","#",".","#","#","#",".",".","#",".","#","#","#",".",".",".",".",".","#","#","#",".","#","#",".",".","#",".","#","#","#","#","#",".","#",".","#","#",".","#",".",".",".","#",".","#","#","#","#","#","#",".","#","#","#","#",".","#",".","#","#",".","#",".","#",".",".","#",".",".","#"],
        ["#","#","#","#",".",".",".",".","#","#","#",".","#",".",".","#","#",".",".",".","#",".","#","#",".",".",".","#","#",".",".",".","#",".",".",".",".","#",".",".","#","#","#",".",".","#",".","#","#","#","#",".",".","#",".",".",".",".","#",".","#","#","#","#",".",".","#",".","#","#","#"],
        [".",".","#","#","#","#",".","#",".","#","#",".",".","#","#",".",".","#","#","#",".",".",".","#","#",".","#","#","#","#",".",".","#","#","#","#","#",".","#","#","#","#","#",".","#","#",".",".","#",".",".","#",".",".","#",".","#",".",".",".","#",".","#",".","#",".",".",".","#",".","#"],
        ["#","#","#",".",".",".","#","#",".","#","#",".",".",".","#",".",".",".",".",".",".","#",".",".",".","#","#",".","#",".","#","#","#","#",".","#","#","#","#","#","#",".",".",".","#","#",".",".",".",".",".",".",".","#",".",".",".",".","#",".","#",".",".","#",".",".","#","#","#",".","#"],
        ["#",".",".",".",".",".",".",".","#","#","#","#","#","#","#","#",".","#","#","#",".","#","#",".","#","#","#",".",".",".",".",".","#",".","#",".","#","#","#",".",".",".","#","#",".","#",".","#","#","#","#","#","#",".","#","#",".",".",".","#","#","#","#",".","#",".","#","#","#","#","#"],
        [".","#","#","#",".",".",".",".","#","#","#","#",".",".",".","#",".",".",".",".","#",".",".",".","#",".","#",".",".",".","#",".",".","#","#",".","#",".","#","#",".","#",".","#","#","#","#",".",".","#",".",".","#",".",".",".",".",".","#","#",".","#",".","#","#",".","#","#",".",".","."],
        ["#",".",".",".","#","#","#",".","#","#","#","#",".","#","#","#","#","#",".",".",".",".","#",".","#","#","#",".",".",".","#","#","#","#","#",".",".","#","#",".","#","#",".","#",".","#",".","#","#",".","#","#",".","#",".","#","#",".","#","#",".","#","#","#",".",".",".",".","#","#","."],
        ["#","#","#",".",".","#",".",".","#",".",".",".",".",".",".","#","#",".",".",".",".","#",".","#",".",".",".",".","#","#",".","#","#","#","#","#","#","#","#","#",".",".",".","#",".",".",".",".","#",".","#",".",".","#","#","#",".",".","#","#","#","#","#",".","#",".","#","#","#","#","#"],
        ["#","#","#","#","#",".",".","#","#",".","#","#","#",".",".",".",".","#","#",".","#",".",".","#",".",".",".","#",".","#",".",".","#","#","#","#",".",".","#","#",".","#",".",".","#","#",".","#","#","#","#",".","#","#","#","#",".",".","#","#",".",".",".","#","#","#","#",".",".",".","#"],
        ["#",".","#","#",".",".","#",".","#",".","#",".",".",".",".","#",".","#","#","#",".","#",".",".","#","#",".","#","#",".",".","#","#",".","#",".",".",".","#","#",".",".","#",".","#","#",".",".","#","#",".","#",".",".",".","#","#","#","#",".",".","#",".","#",".",".","#","#",".",".","#"],
        [".","#",".",".",".",".","#","#","#","#","#","#","#",".","#",".",".","#",".","#",".","#",".","#","#","#","#",".",".",".","#",".","#",".",".","#","#",".","#",".","#",".","#","#",".","#","#",".","#","#",".","#","#",".",".","#",".","#","#",".",".",".","#","#","#",".",".","#","#","#","#"],
        [".",".",".","#",".","#","#","#","#",".",".",".",".","#","#",".",".",".",".","#",".","#",".",".","#",".","#",".",".",".","#",".","#",".","#","#","#",".","#",".","#","#",".","#",".",".",".","#","#","#","#","#","#","#",".","#",".","#",".","#","#","#",".","#",".",".","#",".",".",".","#"],
        ["#","#",".",".",".","#",".","#",".","#","#",".",".","#",".","#","#",".","#","#",".",".",".","#",".",".","#","#","#","#","#","#","#","#","#",".",".","#","#",".",".","#","#","#","#",".",".","#",".",".","#",".",".",".","#","#","#",".",".",".","#","#","#","#","#","#",".","#","#","#","#"],
        ["#",".","#","#",".",".","#","#","#",".",".","#","#",".","#","#",".",".",".",".","#","#",".",".",".",".",".","#",".",".","#","#","#","#",".",".",".",".","#","#","#","#","#","#","#",".","#","#",".",".","#","#","#",".","#",".","#","#",".","#","#","#","#","#","#",".","#","#","#",".","."],
        ["#","#","#","#","#",".","#","#","#","#",".",".","#",".","#","#",".","#","#","#",".","#","#",".","#",".",".",".","#",".",".",".","#",".","#",".",".","#","#","#","#",".","#",".","#","#","#",".","#",".",".",".",".","#",".",".","#","#",".","#","#","#",".","#","#",".",".","#",".","#","."],
        ["#",".","#","#","#",".",".","#","#",".",".","#","#",".","#","#","#","#","#",".","#","#","#",".",".","#","#","#","#",".","#",".","#","#","#","#","#",".",".","#",".","#",".",".","#",".","#","#",".",".",".",".",".",".","#","#","#",".","#","#",".","#",".",".",".","#","#","#","#",".","."],
        [".",".",".","#","#",".","#","#","#","#",".",".","#","#","#","#",".",".","#","#","#",".","#",".","#","#",".","#","#","#","#",".",".",".",".","#","#","#","#","#","#","#",".",".","#","#","#",".","#",".","#","#","#",".",".",".",".",".","#",".","#",".",".","#","#",".","#",".",".",".","."],
        ["#",".",".","#",".",".","#","#","#",".","#",".",".","#","#","#","#","#",".",".",".",".","#","#","#",".","#",".","#",".","#","#",".","#","#","#",".","#",".",".","#",".",".",".",".",".",".",".",".",".","#","#","#","#",".",".",".","#",".",".",".",".","#",".",".","#",".","#",".",".","#"],
        ["#",".",".",".",".",".",".","#","#",".","#","#",".","#",".",".","#","#","#","#",".",".",".","#",".","#","#","#",".","#","#","#",".","#",".","#","#",".","#","#",".","#",".",".","#","#","#","#","#","#","#",".","#",".",".","#","#",".","#",".",".","#","#",".",".",".",".",".","#","#","#"],
        [".",".",".",".",".","#","#",".",".","#","#","#","#",".",".","#","#",".",".","#","#",".","#",".",".",".","#","#","#",".",".",".","#","#","#",".","#",".",".",".",".",".","#",".","#",".","#",".",".","#",".",".","#",".",".",".",".","#","#",".","#",".","#","#","#","#","#","#","#","#","#"],
        ["#","#","#",".",".","#",".",".","#","#",".",".","#","#","#",".","#",".","#",".","#",".",".",".",".",".",".","#","#","#","#",".","#","#","#",".",".",".",".",".",".","#",".",".","#","#","#",".",".",".","#","#",".","#",".","#","#",".",".",".",".","#","#","#",".",".",".",".",".","#","#"],
        ["#",".","#","#","#",".",".",".",".",".","#","#","#",".","#","#","#",".",".",".",".","#",".",".","#","#",".",".","#","#",".","#",".","#","#","#",".",".","#",".",".",".","#","#",".",".",".",".",".","#","#",".","#",".",".","#",".","#",".",".",".",".","#",".",".",".","#",".",".",".","."],
        ["#","#","#","#",".","#","#","#","#",".","#",".",".","#",".",".","#",".","#","#","#","#",".","#","#",".","#","#","#",".","#",".","#","#",".","#",".","#","#",".",".",".",".","#",".",".","#",".",".","#",".",".","#",".","#","#","#","#","#",".",".","#","#","#",".",".",".",".",".",".","."],
        [".",".",".",".",".",".",".",".",".","#","#",".","#",".","#","#","#",".","#","#",".","#",".",".","#","#","#","#",".",".",".","#","#","#","#",".",".",".","#",".",".","#",".","#","#",".",".","#","#",".",".",".","#",".",".",".","#",".","#","#","#",".","#","#","#","#","#","#","#","#","."],
        ["#",".","#",".","#",".","#",".","#",".","#","#",".","#","#",".",".",".","#",".",".","#","#",".",".",".","#","#",".","#","#",".","#",".","#",".","#",".","#","#","#","#","#",".",".","#",".",".","#","#","#",".","#",".",".","#","#",".","#","#",".","#","#",".","#","#",".",".",".","#","#"],
        ["#",".","#","#",".","#",".",".","#","#",".",".","#","#",".","#",".",".",".",".","#",".",".","#","#",".",".",".","#","#","#","#","#",".","#","#","#","#",".",".","#","#",".","#",".",".","#","#",".","#",".",".","#","#","#","#","#",".","#","#","#","#","#",".",".",".",".",".","#",".","#"],
        ["#",".","#",".","#","#",".",".","#",".",".",".",".",".",".",".","#","#",".","#",".","#",".",".","#","#",".","#","#",".","#",".","#","#","#","#",".","#",".",".","#","#","#",".","#","#","#","#",".",".","#",".",".",".",".",".","#","#",".","#","#",".",".",".",".",".","#","#","#","#","."],
        [".",".","#",".",".",".","#","#","#","#","#","#",".",".",".","#",".","#","#","#",".",".","#",".",".","#","#","#","#","#","#","#",".",".","#","#",".","#","#","#",".",".",".","#",".","#",".","#","#","#","#","#",".","#",".","#",".",".",".","#",".",".",".",".",".",".","#",".","#",".","#"],
        [".",".",".",".",".","#",".",".",".",".",".","#","#",".",".","#",".","#",".",".",".","#","#",".",".","#",".","#",".","#",".","#",".","#",".","#",".",".","#","#",".",".","#",".",".","#",".","#",".","#",".",".","#","#","#","#",".","#",".","#",".",".",".","#",".","#",".","#","#",".","#"],
    ];
    
    const getAdjacentElvesPositions = (input, x, y) => {
        const adjacentElvesPositions = [];
        if (input[y - 1] && input[y - 1][x - 1] === "#") adjacentElvesPositions.push("NW");
        if (input[y - 1] && input[y - 1][x] === "#") adjacentElvesPositions.push("N");
        if (input[y - 1] && input[y - 1][x + 1] === "#") adjacentElvesPositions.push("NE");
        if (input[y][x - 1] === "#") adjacentElvesPositions.push("W");
        if (input[y][x + 1] === "#") adjacentElvesPositions.push("E");
        if (input[y + 1] && input[y + 1][x - 1] === "#") adjacentElvesPositions.push("SW");
        if (input[y + 1] && input[y + 1][x] === "#") adjacentElvesPositions.push("S");
        if (input[y + 1] && input[y + 1][x + 1] === "#") adjacentElvesPositions.push("SE");
        const firstLetterPositions = adjacentElvesPositions.map((position) => position.split("")[0]);
        const secondLetterPositions = adjacentElvesPositions.map((position) => position.split("")?.[1]).filter(Boolean);
        const mainDirectionsWhereWeCanFindElves = new Set([...firstLetterPositions, ...secondLetterPositions]);
        return mainDirectionsWhereWeCanFindElves;
    }
    
    const considerPositions = (input, directionsOrder) => {
        const prohibitedDirections = new Set();
        const nexPositions = new Set();
        const movingElves = new Set();
        input.forEach((row, y) => {
            row.forEach((cell, x) => {
                if (cell === "#") {
                    const adjacentElvesPositions = getAdjacentElvesPositions(input, x, y);
                    if (adjacentElvesPositions.size !== 0) {
                        for (let i = 0; i < directionsOrder.length; i++) {
                            if (!adjacentElvesPositions.has(directionsOrder[i])) {
                                if (directionsOrder[i] === "N") {
                                    if (!nexPositions.has(`${x}-${y - 1}`)) {
                                        nexPositions.add(`${x}-${y - 1}`);
                                        movingElves.add({[`${x}-${y - 1}`]: {x, y, direction: "N"}});
                                    } else {
                                        prohibitedDirections.add(`${x}-${y - 1}`);
                                    }
                                } else if (directionsOrder[i] === "S") {
                                    if (!nexPositions.has(`${x}-${y + 1}`)) {
                                        nexPositions.add(`${x}-${y + 1}`);
                                        movingElves.add({[`${x}-${y + 1}`]: {x, y, direction: "S"}});
                                    } else {
                                        prohibitedDirections.add(`${x}-${y + 1}`);
                                    }
                                } else if (directionsOrder[i] === "E") {
                                    if (!nexPositions.has(`${x + 1}-${y}`)) {
                                        nexPositions.add(`${x + 1}-${y}`);
                                        movingElves.add({[`${x + 1}-${y}`]: {x, y, direction: "E"}});
                                    } else {
                                        prohibitedDirections.add(`${x + 1}-${y}`);
                                    }
                                }
                                else if (directionsOrder[i] === "W") {
                                    if (!nexPositions.has(`${x - 1}-${y}`)) {
                                        nexPositions.add(`${x - 1}-${y}`);
                                        movingElves.add({[`${x - 1}-${y}`]: {x, y, direction: "W"}});
                                    } else {
                                        prohibitedDirections.add(`${x - 1}-${y}`);
                                    }
                                }
                                break;
                            }
                        }
                    }
                }
            });
        });
        const reallyMovingElves = new Set();
        movingElves.forEach((movingElf) => {
            const key = Object.keys(movingElf)[0];
            if (!prohibitedDirections.has(key)) {
                reallyMovingElves.add(movingElf);
            }
        });
        return reallyMovingElves;
    }
    
    const rotateDirections = (directionsOrder, round) => {
        if (round === 0) return directionsOrder;
        const newDirectionsOrder = [...directionsOrder];
        const firstDirection = newDirectionsOrder.shift();
        newDirectionsOrder.push(firstDirection);
        return rotateDirections(newDirectionsOrder, round - 1);
    }
    
    const getSmallestRectangle = (input) => {
        let smallestX = input[0].length;
        let biggestX = 0;
        let smallestY = input.length;
        let biggestY = 0;
        input.forEach((row, y) => {
            row.forEach((cell, x) => {
                if (cell === "#") {
                    if (x < smallestX) smallestX = x;
                    if (x > biggestX) biggestX = x;
                    if (y < smallestY) smallestY = y;
                    if (y > biggestY) biggestY = y;
                }
            });
        });
        return input.slice(smallestY, biggestY + 1).map((row) => row.slice(smallestX, biggestX + 1));
    }
    
    const countNumberOfEmptyGroundTiles = (input) => {
        const smallestRectangle = getSmallestRectangle(input);
        let numberOfEmptyGroundTiles = 0;
        smallestRectangle.forEach((row) => {
            row.forEach((cell) => {
                if (cell === ".") numberOfEmptyGroundTiles++;
            });
        });
        return numberOfEmptyGroundTiles;
    }
    
    const partOne = (input, nbRounds) => {
        for (let i = 0; i < nbRounds; i++) {
            // console.log('File: compute.js, Line 145 -------------------: Round ', i+1);
            // input.forEach(row => console.log(row.join("")));
            const directionsOrder = rotateDirections(["N", "S", "W", "E"], i);
            const movingElves = considerPositions(input, directionsOrder);
            movingElves.forEach(elf => {
                const values = Object.values(elf)[0];
                if (input?.[values.y]?.[values.x]) {
                    input[values.y][values.x] = ".";
                    let newY = values.y;
                    let newX = values.x;
                    switch (values.direction) {
                        case "N":
                            newY--;
                            break;
                        case "E":
                            newX++;
                            break;
                        case "S":
                            newY++;
                            break;
                        case "W":
                            newX--;
                            break;
                    }
                    if (input?.[newY]?.[newX]) {
                        input[newY][newX] = "#";
                    } else {
                        input[values.y][values.x] = "#";
                    }
                }
            });
        }
        // input.forEach(row => console.log(row.join("")));
        return countNumberOfEmptyGroundTiles(input);
    };
    
    console.log("PART 1 - example: ", partOne(exampleInput, 10));
    console.log("PART 1 - real: ", partOne(realInput, 10));
    
    // Works for example but not real part...
    